---
title: "DiseaseDocumentation"
author: "Anna"
date: "21/02/2020"
output: 
  html_document:
    keep_md: true
---

This markdown shows the codes used for each condition,
along with any amendments made to the CALIBER code lists. 
These amendment lists were derived from the "Create_disease_list" & "examiningcodes" files, 
with some edits made after looking at the distribution of test value results in our sample of 1m patients. 

All the algorithms are based on the CALIBER algorithms developed for use in CPRD GOLD, 
adapted here for use in CPRD Aurum for our specific study on temporal & equity trends in
multimorbidity within the English GP-registered population
The original CALIBER phenotyping algorithms: https://www.caliberresearch.org/portal/phenotypes/chronological-map


We are interested in chronic conditions that affect health, healthcare usage, and future risk of disease. We have modified the CALIBER algorithms to this effect. 

We have removed all "history of" / "H/O" codes, on the assumption that other observations would be recorded if the condition was an 'active' health problem.
Other amendments to CALIBER algorithms are detailed below. 

## Implementation 

Unless otherwise specified, an individual is considered to have a condition if they have at least 1 of the relevant codes ever recorded. 
Date of 'diagnosis' is assumed to be date of the first observation. 

Multiple visit criteria - conditions with 'multiple visit criteria' need at least 3 of the relevant codes recorded within a 12 month period to be included. Date of 'diagnosis' is assumed to be date of the third observation within 12 months. When this criteria has been met once, the individual is considered to have this condition. 

Some conditions have further, more specific implementations, which are noted below. 

## Variables

read code: Read Code VT3 recording system used in Primary Care. These are the codes from the original CALIBER lists

medcode:  codes used in CPRD GOLD observation files, matching one-to-one with Read codes. 

decription: descriptive term (from either 'description' in GOLD dictionary, or 'term' in Aurum dictionary)

category: condition category as defined in CALIBER lists. Blank for additional codes mapped from Aurum dictionary

medcodeid: codes used in CPRD Aurum observation files. 

snomedctdescriptionid: Snomed CT recording system used in Primary Care (replacing the Read code system)

mapping: how read codes from original CALIBER mapped to CPRD aurum code: a. cleansedreadcode - GOLD Read code matched Aurum 'cleansedreadcode' b. originalreadcode - GOLD Read code matched Aurum 'originalreadcode' c. description - GOLD description matched Aurum 'term' d. termsearch - codes identified by searching Aurum for similar terms to original CALIBER GOLD list


```{r setup, include=FALSE}
library(data.table)
library(knitr)
library(fst)
data.table::setDTthreads(10) #this is so that don't use all the processors 

```



# Summary list of all conditions 
```{r load lists, echo = FALSE}
diseasesum <- fread("DiseaseSumm.csv") #read in the summary list of diseases of interest (incl disease sstem and gives number to each disease)
kable(as.matrix(diseasesum))

fullcodelistmedid <- read_fst("fullcodelistmedidJAN2021.fst", as.data.table = TRUE)
setnames(fullcodelistmedid, "descr", "description")
setkey(fullcodelistmedid, disease_num, mapping, description)

testcodes <- fread(file = "testcodes.csv", 
                   header = TRUE, sep = ",",
                   colClasses = 'character') 

```



## 1	Abdominal Aortic Aneurysm	2	Diseases of the Circulatory System

```{r diseaselist 1, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num ==1, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```


## 2	Abdominal Hernia	3	Diseases of the Digestive System 

MULTIPLE VISIT CRITERIA (3+ visits in one year)
Automatically including (i.e. no multiple visit criteria): irreducible hernias

```{r diseaselist 2, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num ==2, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))
```

Irreducible Abdominal Hernia  (no multiple visit criteria needed if one present)
```{r diseaselist 2 irreducible, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num ==2 & tolower(description) %like% "irreducible", .(medcodeid, description)])) #list of irreducible codes - including these automatically 
```


## 3	Acne	15	Skin conditions 

MULTIPLE VISIT CRITERIA (3+ visits in one year)
Ignoring records from before age 18

```{r diseaselist 3, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num ==3, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```


## 4	Alcohol Misuse	11	Mental Health Disorders
```{r diseaselist 4, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num ==4, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 5	Alcoholic liver disease	3	Diseases of the Digestive System

```{r diseaselist 5, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num ==5, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 6	Allergic and chronic rhinitis	8	Diseases of the Respiratory System - 
MULTIPLE VISIT CRITERIA (3+ visits in one year) EXCEPT chronic cases (include automatically)

```{r diseaselist 6, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num ==6, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))
```

Chronic allergies (6)  (no multiple visit criteria needed if one present)
```{r diseaselist 6 chronic, echo = FALSE}
##Chronic only - no MVC
kable(as.matrix(fullcodelistmedid[disease_num ==6 & tolower(description) %like% "chronic", .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))
```

##7	Alopecia areata	15	Skin conditions

```{r diseaselist 7, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num ==7, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 8	Anaemia_other	9	Haematological/Immunological conditions
Amended CALIBER implementation 
Primary care
1. Other anaemias diagnosis or history of diagnosis during a consultation 
OR
2.  Possible diagnosis of Other anaemias during a consultation IF there is NO record satisfying the criteria for B12 deficiency anaemia, folate deficiency anaemia, Thalassaemia, Sickle Cell Anaemia, other haemolytic anaemia or aplastic anaemia.

```{r diseaselist 8, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num ==8, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```


## 9	Angiodysplasia of colon	3	Diseases of the Digestive System

```{r diseaselist 9, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num ==9, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 10	Ankylosing spondylitis	12	Musculoskeletal conditions

```{r diseaselist 10, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num ==10, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 11	Anterior and Intermediate Uveitis	6	Diseases of the Eye 
MULTIPLE VISIT CRITERIA (3+ visits in one year)

```{r diseaselist 11, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num ==11, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 12	Anxiety disorders	11	Mental Health Disorders  
MULTIPLE VISIT CRITERIA (3+ visits in one year)

```{r diseaselist 12, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num ==12, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 13	Aplastic anaemias	9	Haematological/Immunological conditions

```{r diseaselist 13, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 13, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 14	Asbestosis	8	Diseases of the Respiratory System

```{r diseaselist 14, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 14, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 15	Asthma	8	Diseases of the Respiratory System 
MULTIPLE VISIT CRITERIA (3+ visits in one year)
Remove under 18 only cases

```{r diseaselist 15, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 15, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 16	Atrial Fibrillation	2	Diseases of the Circulatory System

```{r diseaselist 16, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 16, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 17	Atrioventricular blocks, 1st/2nd/3rd degree	2	Diseases of the Circulatory System
Including only the 1st record of first/second/third degree. This combines the 3 separate CALIBER categories 

```{r diseaselist 17, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 17, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 18 Autism and Asperger's syndrome	11	Mental Health Disorders

```{r diseaselist 18, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 18, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 19	Autoimmune liver disease	3	Diseases of the Digestive System

```{r diseaselist 19, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num ==19, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 20	Autonomic Neuropathy	13	Neurological conditions

```{r diseaselist 20, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 20, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 21	Barrett's oesophagus	3	Diseases of the Digestive System

```{r diseaselist 21, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 21, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 22	Benign essential tremor	13	Neurological conditions

```{r diseaselist 22, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 22, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 23	Benign Prostatic Hyperplasia	7	Diseases of the Genitourinary System

```{r diseaselist 23, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 23, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```


## 24	Bipolar affective disorder and mania	11	Mental Health Disorders 
MULTIPLE VISIT CRITERIA (3+ visits in one year)

```{r diseaselist 24, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 24, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```


## 25	Bronchiectasis	8	Diseases of the Respiratory System
```{r diseaselist 25, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 25, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 26	Cardiomyopathy - other	2	Diseases of the Circulatory System

```{r diseaselist 26, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 26, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 27	Cataract	6	Diseases of the Eye

```{r diseaselist 27, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 27, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 28	Cerebral Palsy	13	Neurological conditions

```{r diseaselist 28, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 28, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 29	Chronic Cystitis	7	Diseases of the Genitourinary System

```{r diseaselist 29, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 29, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 30	Chronic Fatigue Syndrome	13	Neurological conditions

```{r diseaselist 30, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 30, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 31	Chronic Kidney Disease	7	Diseases of the Genitourinary System
Includes End Stage Renal Disease (ESRD), which is a separate category in CALIBER
CALIBER Algorithm:
"A patient is defined as having had CKD stage 3 or above at a specified date:

IF egfr_ckdepi recorded on or before specified date, THEN 
IF egfr_ckdepi <60 ml/min on the most recent date (index date) before the specified date
AND
IF egfr_ckdepi <60 ml/min on any date greater than 90 days BEFORE the index date above
THEN classify as having CKD3 or above
ELSE the patient is not defined as having CKD stage 3 or above.

Where egfr_ckdepi up to and including 31 Dec 2013 is defined as: 
egfr_ckdepi = 141 * min(crea_gprd * 0.010746 / K, 1)^alpha
* max(crea_gprd * 0.010746 / K, 1)^-1.209 
* 0.993^age * 1.018 [if female]  * 1.159 [if black]

where:
alpha = -0.329 for females, -0.411 for males
K = 0.7 for females, 0.9 for males

Where egfr_ckdepi from and including 1 Jan 2014 is defined as: 
egfr_ckdepi = 141 * min(crea_gprd * 0.010746 / K, 1)^alpha
* max(crea_gprd * 0.0.011312/ K, 1)^-1.209 
* 0.993^age * 1.018 [if female]  * 1.159 [if black]

where:
alpha = -0.329 for females, -0.411 for males
K = 0.7 for females, 0.9 for males

Where crea_gprd is defined as:
IF enttype = 165 [Serum creatinine] 
AND data1 [Operator] = 3 ["="] AND data2 [Value] > 0
THEN crea_gprd = data2"



Creatinine values were excluded if <20 micromol/L (0.2 mg/dL) or > 1800 micromol/L (20 mg/dL)  'biological plausability limits': https://onlinelibrary-wiley-com.liverpool.idm.oclc.org/doi/epdf/10.1002/pds.2203 
After looking at distributions assumed that all units were in mmmol/L (regardless of stated units)



In addition to the Kuan eGFR algorithm, also using diagnostic codes. 
These were identified through searching the Aurum database. 
Selected codes match those used by https://www.futuremedicine.com/doi/10.2217/cer-2019-0190 

Combining with ESRD, taking the first record only


```{r diseaselist 31, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 31, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))
```

Codes for test values 
```{r diseaselist 31 testcodes, echo = FALSE}
kable(as.matrix(testcodes[disease_num == 31, .(term, test, medcodeid, mapping)]))

```


## 32	Chronic sinusitis	8	Diseases of the Respiratory System
CALIBER Algorithm:
"1. Chronic sinusitis diagnosis or history of diagnosis during a consultation 
OR
2.  There are at least 2 records satisfying the criteria for Possible diagnosis of Chronic sinusitis during a consultation more than 84 days apart. "

```{r diseaselist 32, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 32, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))
```

Chronic sinusitis codes - incl automatically (no multiple visit criteria needed if one present)
```{r diseaselist 32 chronic, echo = FALSE}
fullcodelistmedid[disease_num == 32 & tolower(description) %like% "chronic", .(medcodeid, description)]

```

## 33	Chronic viral hepatitis	10	Infectious Diseases 

```{r diseaselist 33, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 33, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 34	Cirrhosis	3	Diseases of the Digestive System

```{r diseaselist 34, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 34, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 35	Coeliac disease	3	Diseases of the Digestive System

```{r diseaselist 35, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 35, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 36	Collapsed vertebra	12	Musculoskeletal conditions

```{r diseaselist 36, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 36, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 37	Congenital Septal Defect	14	Perinatal conditions
Currently including coded for "repaired/resoved" cases. 
NEED to THINK ABOUT removing: "repaired" cases: Ostium secundum atrial septal defect resolved; Correction of tetralogy of Fallot; Repair of tetralogy of Fallot; Correct Fallot tetralogy- valved right ventr outflow conduit; Correct Fallot tetralogy- right ventric outflow conduit NEC	; Correct Fallot tetralogy- right ventricular outflow patch; Revision of correction of tetralogy of Fallot; Repair of tetralogy of Fallot using transannular patch; Repair of tetralogy of Fallot with absent pulmonary valve; Repair Fallot-type pulmonary atresia aortopulmonary collater; Other specified correction of tetralogy of Fallot; Correction of tetralogy of Fallot NOS; Repair of tetralogy of Fallot NOS; Closure of persistent ostium primum; Repair of persistent ostium primum; Closure of multiple interventricular septal defects; Repair of multiple interventricular septal defects; Closure interventricular septal defect us intraop trans pros; Repair interventricular septal defect us intraop trans pros; Repair of Fallot-type double outlet right ventricle	  
```{r diseaselist 37, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 37, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```


## 38	COPD	8	Diseases of the Respiratory System

```{r diseaselist 38, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 35, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 39	Coronary Heart Disease (not otherwise specified)	2	Diseases of the Circulatory System
CALIBER Algorithm:
If "No previous records meeting the criteria for stable angina OR unstable angina OR myocardial infarction" 

```{r diseaselist 39, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 39, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 40	Crohn's disease	3	Diseases of the Digestive System

```{r diseaselist 40, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 0, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 41	Cystic Fibrosis	5	Diseases of the Endocrine System

```{r diseaselist 41, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 41, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 42	Dementia	11	Mental Health Disorders

```{r diseaselist 42, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 42, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 43	Depression	11	Mental Health Disorders 
MULTIPLE VISIT CRITERIA (3+ visits in one year)

```{r diseaselist 43, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 43, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 44	Dermatitis	15	Skin conditions 
MULTIPLE VISIT CRITERIA (3+ visits in one year)
Excluding records before 18
```{r diseaselist 44, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 44, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 45	Diabetes Mellitus_other or not specified	5	Diseases of the Endocrine System
Adapted CALIBER Algorithm:
"Use MODIFIED CALIBER Diabetes phenotyping algorithm for 
1.	T1DM, 
2.	T2DM, 
3.	Diabetes other or uncertain type:

IF there is at least one record for code for type 2 diabetes
    and no record for type 1 diabetes
    then classify the patient as type 2 diabetes

ELSE if there is at least one record for code for type I diabetes
    and no record for type 2 diabetes
    then classify the patient as type 1 diabetes

ELSE if there is at least one record of type 1 diabetes
    and type 2 diabetes
    then classify as diabetes other or uncertain type

ELSE if there are no T1/T2 records for this patient:

    If there is at least one record for Non-insulin-dependent diabetes mellitus (NIDDM) 
        and no record for IDDM
        then classify the patient as type 2 diabetes

    ELSE if there is at least one record for Insulin-dependent diabetes mellitus (IDDM) 
        and no record for NIDDM 
        then classify the patient as type 1 diabetes

    ELSE if there is at least one record of diabetes 
        then classify as diabetes other or uncertain type

ELSE classify as no diabetes

```{r diseaselist 45, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 45, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```


## 46	Diabetic Eye Disease	6	Diseases of the Eye

```{r diseaselist 46, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 46, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 47	Diabetic Neuropathy 	13	Neurological conditions

```{r diseaselist 47, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 47, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 48	Diaphragmatic hernia	3	Diseases of the Digestive System 
MULTIPLE VISIT CRITERIA (3+ visits in one year)
Automatically including  'irreducible' cases

```{r diseaselist 48, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 48, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))
```

Automatically included irreducible cases (no multiple visit criteria needed)
```{r diseaselist 48 irreducible, echo = FALSE}
##irreducible
fullcodelistmedid[disease_num == 48 & tolower(description) %like% "irreducible", .(medcodeid, description)]
```


## 49	Dilated cardiomyopathy	2	Diseases of the Circulatory System

```{r diseaselist 49, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 49, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 50	Diverticular Disease	3	Diseases of the Digestive System

```{r diseaselist 50, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 50, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 51	Down's syndrome	14	Perinatal conditions

```{r diseaselist 51, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 51, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 52	Dysmenorrhoea	7	Diseases of the Genitourinary System

```{r diseaselist 52, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 52, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 53	Eating Disorders	11	Mental Health Disorders

```{r diseaselist 53, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 53, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```


## 54	Endometrial hyperplasia and hypertrophy	7	Diseases of the Genitourinary System

```{r diseaselist 54, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 54, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 55	Endometriosis	7	Diseases of the Genitourinary System

```{r diseaselist 55, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 55, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 56	Enteropathic arthropathy	12	Musculoskeletal conditions

```{r diseaselist 56, echo = FALSE} 
kable(as.matrix(fullcodelistmedid[disease_num == 56, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 57	Enthesopathy and synovial disorder	12	Musculoskeletal conditions 
MULTIPLE VISIT CRITERIA (3+ visits in one year)

```{r diseaselist 57, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 57, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 58	Epilepsy	13	Neurological conditions

```{r diseaselist 58, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 58, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```


## 59	Fatty Liver	3	Diseases of the Digestive System

```{r diseaselist 59, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 59, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 60	Fibromatosis	12	Musculoskeletal conditions

```{r diseaselist 60, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 60, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 61	Folate deficiency anaemia	9	Haematological/Immunological conditions

```{r diseaselist 61, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 61, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 62	Gastritis and duodenitis	3	Diseases of the Digestive System
MULTIPLE VISIT CRITERIA (3+ visits in one year)

```{r diseaselist 62, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 62, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 63	Gastro-oesophageal reflux disease	3	Diseases of the Digestive System 
MULTIPLE VISIT CRITERIA (3+ visits in one year)

```{r diseaselist 63, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 63, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 64	Giant Cell Arteritis	12	Musculoskeletal conditions

```{r diseaselist 64, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 64, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 65	Glaucoma	6	Diseases of the Eye

```{r diseaselist 65, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 65, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 66	Glomerulonephritis	7	Diseases of the Genitourinary System

```{r diseaselist 66, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 66, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 67	Gout	12	Musculoskeletal conditions

```{r diseaselist 67, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 67, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 68	Hearing loss	4	Diseases of the Ear

```{r diseaselist 68, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 68, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```


## 69	Heart failure	2	Diseases of the Circulatory System

```{r diseaselist 69, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 69, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 70	Hepatic failure	3	Diseases of the Digestive System

```{r diseaselist 70, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 70, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 71	Hidradenitis suppurativa	15	Skin conditions
MULTIPLE VISIT CRITERIA (3+ visits in one year)

```{r diseaselist 71, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 71, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 72	HIV	10	Infectious Diseases 

```{r diseaselist 72, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 72, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 73	Hodgkin Lymphoma	1	Cancers

```{r diseaselist 73, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 73, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 74	Hyperkinetic disorders	11	Mental Health Disorders

```{r diseaselist 74, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 74, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 75	Hyperparathyroidism	5	Diseases of the Endocrine System

```{r diseaselist 75, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 75, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 76	Hypersplenism	9	Haematological/Immunological conditions

```{r diseaselist 76, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 76, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 77	Hypertension	2	Diseases of the Circulatory System
MULTIPLE VISIT CRITERIA (3+ visits in one year)

```{r diseaselist 77, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 77, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```


## 78	Hypertrophic Cardiomyopathy	2	Diseases of the Circulatory System

```{r diseaselist 78, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 78, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 79	Hypertrophic Nasal Turbinates	8	Diseases of the Respiratory System

```{r diseaselist 79, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 79, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 84	Hyposplenism	9	Haematological/Immunological conditions

```{r diseaselist 80, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 80, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 81	Idiopathic Intracranial Hypertension	13	Neurological conditions

```{r diseaselist 81, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 81, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 82	Immunodeficiencies	9	Haematological/Immunological conditions

```{r diseaselist 82, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 82, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 83	Intellectual disability	11	Mental Health Disorders

```{r diseaselist 83, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 83, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 84	Intervertebral disc disorders	12	Musculoskeletal conditions

```{r diseaselist 84, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 84, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 85	Intracerebral haemorrhage	2	Diseases of the Circulatory System

```{r diseaselist 85, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 85, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 86	Irritable bowel syndrome	3	Diseases of the Digestive System

```{r diseaselist 86, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 86, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 87	Ischaemic stroke	2	Diseases of the Circulatory System

```{r diseaselist 87, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 87, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 88	Left bundle branch block	2	Diseases of the Circulatory System

```{r diseaselist 88, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 88, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 89	Leukaemia	1	Cancers

```{r diseaselist 89, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 89, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```


## 90	Low HDL-C	5	Diseases of the Endocrine System
CALIBER Algorithm:
"Primary care
1. IF FEMALE the lowest value EVER recorded for HDL Cholesterol for a patient on or before the specified date is less than:
a) serum: 1.2 mmol/L
OR
b) serum: 46.404 mg/dL
OR
c) plasma: 1.1650 mmol/L
OR
d) plasma: 45.0524 mg/dL

2. IF MALE the lowest value EVER recorded for HDL Cholesterol for a patient on or before the specified date is less than:
a) serum: 1 mmol/L
OR
b) serum: 38.67 mg/dL
OR
c) plasma: 0.9709 mmol/L
OR
d) plasma: 37.5437 mg/dL"



We are requiring 2 or more abnormal values ever recorded - this is to help avoid misclassifying single abnormal measures & 
to be in line with NICE guidance that treatment starts after 1 abnormal measurement & is then followed up by a second measurement after 3 months https://pathways.nice.org.uk/pathways/cardiovascular-disease-prevention/lipid-modification-therapy-for-preventing-cardiovascular-disease 

After looking at distributions assumed that all units were in mmmol/L (regardless of stated units)
Only values where 0 < x < 50mmol/l were included


```{r diseaselist 90, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 90, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

kable(as.matrix(testcodes[disease_num == 90, .(term, test, medcodeid, mapping)]))


```

## 91	Lupus Erythematosus	12	Musculoskeletal conditions

```{r diseaselist 91, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 91, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 92	Macular degeneration	6	Diseases of the Eye

```{r diseaselist 92, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 92, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 93	Meniere's Disease	4	Diseases of the Ear

```{r diseaselist 93, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 93, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 94	Migraine	13	Neurological conditions 
MULTIPLE VISIT CRITERIA (3+ visits in one year)

```{r diseaselist 94, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 94, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 95	Motor neuron disease	13	Neurological conditions

```{r diseaselist 95, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 95, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 96	Multiple sclerosis	13	Neurological conditions

```{r diseaselist 96, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 96, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 97	Multiple valve disorder	2	Diseases of the Circulatory System

```{r diseaselist 97, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 102, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```


## 98	Myasthenia gravis	13	Neurological conditions

```{r diseaselist 98, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 98, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 99	Myelodysplastic Syndrome	1	Cancers

```{r diseaselist 99, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 99, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 100	Myocardial Infarction	2	Diseases of the Circulatory System

```{r diseaselist 100, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 100, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 101	Neuropahtic Bladder	7	Diseases of the Genitourinary System

```{r diseaselist 101, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 101, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 102	Non-Hodgkin Lymphoma	1	Cancers

```{r diseaselist 102, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 102, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 103	Nonrheumatic aortic valve disorders	2	Diseases of the Circulatory System

```{r diseaselist 103, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 103, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 104	Nonrheumatic mitral valve disorders	2	Diseases of the Circulatory System

```{r diseaselist 104, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 104, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 105	Obesity	5	Diseases of the Endocrine System
CALIBER Algorithm:
"1. Obesity diagnosis or history of diagnosis or procedure during a consultation 
OR
2. IF  enttype = 13 (Weight) available on or before specified date AND data3 not missing, BMI = data3. If BMI > 30, patient is defined as having had Obesity.
OR
3. If enttype = 13 (Weight) available on or before specified date AND data3 missing, BMI = data1 (enttype 13) /(data2 ^2) (enttype 14 = Height). If BMI > 30, patient is defined as having had Obesity. IF height not available on same eventdate as weight, use most recent height for age > 18 years."


Only using bmi/heght/weight recorded age 18 above
We are requiring 2 records of obese bmi ever recorded - would rather not count than misclassify as obese
BMI values restricted to 10 < x < 200
weight values: After looking at recorded units & distributions, if not specified as in imperial measurements, assume in kg. restricted to 5kg < x < 500kg
height values: After looking at recorded units & distributions, units assumed to be in m if x < 3 & in cm if >3.  restricted to 0.5m< x < 2.5m. 


```{r diseaselist 105, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 105, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))
```

Codes for bmi/height/weight test values 
```{r diseaselist 105 tests, echo = FALSE}
kable(as.matrix(testcodes[disease_num == 105, .(term, test, medcodeid, mapping)]))
```


## 106	Obsessive-compulsive disorder	11	Mental Health Disorders

```{r diseaselist 106, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 106, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 107	Obstructive and reflux uropathy	7	Diseases of the Genitourinary System
Not including records under 18 

```{r diseaselist 107, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 107, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

##108	Oesophageal varices	3	Diseases of the Digestive System

```{r diseaselist 108, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 108, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 109	Osteoarthritis (excl spine)	12	Musculoskeletal conditions

```{r diseaselist 109, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 109, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 110	Osteoporosis	12	Musculoskeletal conditions

```{r diseaselist 110, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 110, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 111	Other haemolytic anaemias	9	Haematological/Immunological conditions
CALIBER algorithm:
"1. Other haemolytic anaemias diagnosis or history of diagnosis during a consultation 
OR
2.  Possible diagnosis of Other haemolytic anaemias during a consultation IF there is NO record satisfying the criteria for Thalassaemia or Sickle Cell Anaemia."

```{r diseaselist 111, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 111, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 112	Pancreatitis	3	Diseases of the Digestive System  
MULTIPLE VISIT CRITERIA (3+ visits in one year)

```{r diseaselist 112, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 112, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 113	Parkinson's disease	13	Neurological conditions

```{r diseaselist 113, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 113, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 114	Pericardial Effusion	2	Diseases of the Circulatory System  
MULTIPLE VISIT CRITERIA (3+ visits in one year)
Automatically including chronic pericardial effusion
```{r diseaselist 114, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 114, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))
```

Chronic pericardial effusion for automatic includion (no multiple visit criteia)
```{r diseaselist 114 chronic, echo = FALSE}
##Chronic
kable(as.matrix(fullcodelistmedid[disease_num == 114 & tolower(description) %like% "chronic", .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))
```

## 115	Peripheral Vascular Disease	2	Diseases of the Circulatory System
(This is called Peripheral Arterial Disease in the CALIBER lists)
```{r diseaselist 115, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 115, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 116	Peripheral Neuropathy	13	Neurological conditions

```{r diseaselist 116, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 116, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 117	Personality disorders	11	Mental Health Disorders

```{r diseaselist 117, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 117, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 118	Plasma Cell Malignancy	1	Cancers

```{r diseaselist 118, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 118, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 119	Pleural effusion	8	Diseases of the Respiratory System 
MULTIPLE VISIT CRITERIA (3+ visits in one year)

```{r diseaselist 119, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 119, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 120	Pleural plaque	8	Diseases of the Respiratory System

```{r diseaselist 120, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 120, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 121	Polycystic ovarian syndrome	5	Diseases of the Endocrine System

```{r diseaselist 121, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 121, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 122	Polycythaemia vera	1	Cancers

```{r diseaselist 122, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 122, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 123	Polymyalgia Rheumatica	12	Musculoskeletal conditions

```{r diseaselist 123, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 123, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 124	Portal hypertension	3	Diseases of the Digestive System

```{r diseaselist 124, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 124, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 125	Posterior Uveitis	6	Diseases of the Eye 
MULTIPLE VISIT CRITERIA (3+ visits in one year)

```{r diseaselist 125, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 130, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 126	Primary Malignancy_Biliary Tract	1	Cancers

```{r diseaselist 126, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 126, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 127	Primary Malignancy_Bladder	1	Cancers

```{r diseaselist 127, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 127, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 128	Primary Malignancy_Bone	1	Cancers

```{r diseaselist 128, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 128, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 129	Primary Malignancy_Bowel	1	Cancers

```{r diseaselist 129, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 129, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 130	Primary Malignancy_Brain	1	Cancers

```{r diseaselist 130, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 130, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 131	Primary Malignancy_Breast	1	Cancers

```{r diseaselist 131, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 131, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 132	Primary Malignancy_Cervix	1	Cancers

```{r diseaselist 132, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 132, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 133	Primary Malignancy_Kidney	1	Cancers

```{r diseaselist 133, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 133, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 134	Primary Malignancy_Liver	1	Cancers

```{r diseaselist 134, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 134, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 135	Primary Malignancy_Lung	1	Cancers

```{r diseaselist 135, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 135, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 136	Primary Malignancy_Melanoma	1	Cancers

```{r diseaselist 136, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 136, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 137	Primary Malignancy_Mesothelioma	1	Cancers

```{r diseaselist 137, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 137, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 138	Primary Malignancy_Multiple Sites	1	Cancers

```{r diseaselist 138, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 138, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 139	Primary Malignancy_Oesophageal	1	Cancers

```{r diseaselist 139, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 139, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 140	Primary Malignancy_Oropharyngeal	1	Cancers

```{r diseaselist 140, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 140, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 141	Primary Malignancy_other	1	Cancers
CALIBER algorithm:
1. Primary Malignancy Other organs diagnosis or history of diagnosis during a consultation 
OR 
2. Primary Malignancy Other organs possible diagnosis during a consultation IF NO record satisfying criteria for Primary Malignancy of any other organ in this document OR Haematological Malignancy (Hodgkin Lymphoma, Non-Hodgkin Lymphoma, Multiple Myeloma, Leukaemia)
```{r diseaselist 141, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 141, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 142	Primary Malignancy_Ovary	1	Cancers

```{r diseaselist 142, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 142, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 143	Primary Malignancy_Pancreas	1	Cancers

```{r diseaselist 143, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 143, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 144	Primary Malignancy_Prostate	1	Cancers

```{r diseaselist 144, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 144, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 145	Primary Malignancy_Skin	1	Cancers

```{r diseaselist 145, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 145, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 146	Primary Malignancy_Stomach	1	Cancers

```{r diseaselist 146, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 146, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 147	Primary Malignancy_Testis	1	Cancers

```{r diseaselist 147, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 147, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 148	Primary Malignancy_Thyroid	1	Cancers

```{r diseaselist 148, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 148, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 149	Primary Malignancy_Uterus	1	Cancers

```{r diseaselist 149, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 149, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 150	Primary pulmonary hypertension	2	Diseases of the Circulatory System

```{r diseaselist 150, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 150, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 151	Primary Thrombocytopaenia	9	Haematological/Immunological conditions

```{r diseaselist 151, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 151, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 152	Psoriasis	15	Skin conditions  
MULTIPLE VISIT CRITERIA (3+ visits in one year)

```{r diseaselist 152, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 152, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 153	Psoriatic Arthritis	12	Musculoskeletal conditions

```{r diseaselist 153, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 153, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

(Removed 154	Ptosis of eyelid	6	Diseases of the Eye - as normally corrected)


## 155	Pulmonary Fibrosis	8	Diseases of the Respiratory System

```{r diseaselist 155, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 155, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 156	Raised LDL-C	5	Diseases of the Endocrine System
CALIBER algorithm
"1. IF the highest value EVER recorded for LDL Cholesterol for a patient on or before the specified date is greater than:
a) serum: 3 mmol/L
OR
b) serum: 116.01 mg/dL
OR
c) plasma: 2.9126 mmol/L
OR
d) plasma: 112.6311 mg/dL"


We are requiring 2 abnormal results  - this is avoid misclassifying single abnormal measures & 
to be in line with NICE guidance that treatment starts after 1 abnormal measurement & is then followed up by a second measurement after 3 months https://pathways.nice.org.uk/pathways/cardiovascular-disease-prevention/lipid-modification-therapy-for-preventing-cardiovascular-disease 

After looking at distributions assumed that all units were in mmmol/L (regardless of stated units)
Only values where 0 < x < 50mmol/l were included


```{r diseaselist 156, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 156, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

kable(as.matrix(testcodes[disease_num == 156, .(term, test, medcodeid, mapping)]))


```


## 157	Raised Total Cholesterol	5	Diseases of the Endocrine System
CALIBER algorithm
"1. IF the highest value EVER recorded for Total Cholesterol for a patient on or before the specified date is greater than:
a) serum: 5 mmol/L
OR
b) serum: 193.35 mg/dL
OR
c) plasma: 4.8544 mmol/L
OR
d) plasma: 187.7184 mg/dL"


We are requiring 2 abnormal results ever recorded - this is avoid misclassifying single abnormal measures & 
to be in line with NICE guidance that treatment starts after 1 abnormal measurement & is then followed up by a second measurement after 3 months https://pathways.nice.org.uk/pathways/cardiovascular-disease-prevention/lipid-modification-therapy-for-preventing-cardiovascular-disease 

After looking at distributions assumed that all units were in mmmol/L (regardless of stated units)
Only values where 0 < x < 50mmol/l were included

```{r diseaselist 157, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 157, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

kable(as.matrix(testcodes[disease_num == 157, .(term, test, medcodeid, mapping)]))

```

## 158	Raised Triglycerides	5	Diseases of the Endocrine System
CALIBER algorithm
"1. IF the highest value EVER recorded for Triglycerides for a patient on or before the specified date is greater than:
a) serum: 1.7 mmol/L
OR
b) serum: 150.569 mg/dL
OR
c) plasma: 1.6521 mmol/L
OR
d) plasma: 146.3256 mg/dL"

We are requiring 2 2 abnormal results ever recorded  - this is avoid misclassifying single abnormal measures & 
to be in line with NICE guidance that treatment starts after 1 abnormal measurement & is then followed up by a second measurement after 3 months https://pathways.nice.org.uk/pathways/cardiovascular-disease-prevention/lipid-modification-therapy-for-preventing-cardiovascular-disease 

After looking at distributions, assuming all actually recorded in mmol/l except if specified as g/l 
Only values where 0 < x < 50mmol/l were included

```{r diseaselist 158, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 158, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

kable(as.matrix(testcodes[disease_num == 158, .(term, test, medcodeid, mapping)]))

```

## 159	Raynaud's syndrome	2	Diseases of the Circulatory System

```{r diseaselist 159, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 159, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 160	Retinal vascular occlusions	6	Diseases of the Eye

```{r diseaselist 160, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 160, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 161	Rheumatic Valve Disorder	2	Diseases of the Circulatory System

```{r diseaselist 161, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 161, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 162	Rheumatoid Arthritis	12	Musculoskeletal conditions

```{r diseaselist 162, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 162, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 163	Right bundle branch block combination	2	Diseases of the Circulatory System
We have collasped the CALIBBER conditions Right bundle branch block/bifisacular block/trifisacular block into one.
Only keeping the first instance of any of these 

```{r diseaselist 163, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 163, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 164	Rosacea	15	Skin conditions 
MULTIPLE VISIT CRITERIA (3+ visits in one year)

```{r diseaselist 164, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 164, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 165	Sarcoidosis	9	Haematological/Immunological conditions

```{r diseaselist 165, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 165, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 166	Schizophrenia	11	Mental Health Disorders

```{r diseaselist 166, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 166, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 167	Scleritis and episcleritis	6	Diseases of the Eye

```{r diseaselist 167, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 167, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 168	Scleroderma	12	Musculoskeletal conditions

```{r diseaselist 168, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 168, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 169	Seborrheic dermatitis	15	Skin conditions 
MULTIPLE VISIT CRITERIA (3+ visits in one year)
Have removed infantile records: Infantile seborrhoeic dermatitis; infantile seborrhoeic dermatitis capitis; Cradle cap	; Infantile seborrhoeic dermatitis NOS 
```{r diseaselist 169, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 169, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 170	Secondary Malignancy_Adrenal Gland	1	Cancers
```{r diseaselist 170, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 170, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 171	Secondary Malignancy_Bone	1	Cancers

```{r diseaselist 171, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 171, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 172	Secondary Malignancy_Bowel	1	Cancers

```{r diseaselist 172, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 172, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 173	Secondary Malignancy_Brain	1	Cancers

```{r diseaselist 173, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 173, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 174	Secondary Malignancy_Liver	1	Cancers

```{r diseaselist 174, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 174, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 175	Secondary Malignancy_Lung	1	Cancers

```{r diseaselist 175, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 175, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```


## 176	Secondary Malignancy_Lymph Nodes	1	Cancers

```{r diseaselist 176, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 176, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```


## 177	Secondary Malignancy - other	1	Cancers
CALIBER algorithm:
1. Secondary Malignancy Other organs diagnosis or history of diagnosis during a consultation 
OR
2. Secondary Malignancy Other organs possible diagnosis during a consultation IF NO record satisfying criteria for Secondary Malignancy of any other organ

```{r diseaselist 177, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 177, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```


## 178	Secondary Malignancy_Peritoneum	1	Cancers

```{r diseaselist 178, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 178, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```


## 179	Secondary Malignancy_Pleura	1	Cancers

```{r diseaselist 179, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 179, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```


## 180	Secondary polycythaemia	9	Haematological/Immunological conditions

```{r diseaselist 180, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 180, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 181	Secondary pulmonary hypertension	2	Diseases of the Circulatory System

```{r diseaselist 181, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 181, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 182	Secondary Thrombocytopaenia	9	Haematological/Immunological conditions

```{r diseaselist 182, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 182, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 183	Sick sinus syndrome	2	Diseases of the Circulatory System

```{r diseaselist 183, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 183, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 184	Sickle Cell Disease	9	Haematological/Immunological conditions

```{r diseaselist 184, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 184, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 185	Sjogren's Syndrome	12	Musculoskeletal conditions

```{r diseaselist 185, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 185, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 186	Sleep apnoea	8	Diseases of the Respiratory System

```{r diseaselist 186, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 186, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 187	Spina bifida	14	Perinatal conditions

```{r diseaselist 187, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 187, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 188	Spinal stenosis	12	Musculoskeletal conditions

```{r diseaselist 188, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 188, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 189	Spondylolisthesis	12	Musculoskeletal conditions

```{r diseaselist 189, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 189, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 190	Spondylosis	12	Musculoskeletal conditions

```{r diseaselist 190, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 190, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 191	Stable Angina	2	Diseases of the Circulatory System
CALIBER Algorithm:
    1. Recorded diagnosis of stable angina 
    2. Coronary revascularisation without unstable angina or myocardial infarction in the previous 30 days
    3. Primary care record of abnormal coronary angiogram or test showing evidence of myocardial ischaemia


```{r diseaselist 191, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 191, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 192	Stroke_not otherwise specified	2	Diseases of the Circulatory System
CALIBER Algorithm:
"No record for subarachnoid haemorrhage, ischaemic stroke or intracerebral haemorrhage at any time on or before the specified date
AND
1. Stroke NOS diagnosis or history of diagnosis during a consultation "

```{r diseaselist 192, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 192, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 193	Subarachnoid haemorrhage	2	Diseases of the Circulatory System

```{r diseaselist 193, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 193, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 194	Substance Misuse	11	Mental Health Disorders

```{r diseaselist 194, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 194, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 195	Supraventricular tachycardia	2	Diseases of the Circulatory System

```{r diseaselist 195, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 195, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 196	Thalassaemia	9	Haematological/Immunological conditions

```{r diseaselist 196, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 196, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 197	Thrombophilia	9	Haematological/Immunological conditions

```{r diseaselist 197, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 197, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 198	Thyroid Disease	5	Diseases of the Endocrine System

```{r diseaselist 198, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 198, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 199	Tinnitus	4	Diseases of the Ear 
MULTIPLE VISIT CRITERIA (3+ visits in one year)

```{r diseaselist 199, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 199, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 200	Transient ischaemic attack	2	Diseases of the Circulatory System

```{r diseaselist 200, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 200, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 201	Trigeminal neuralgia	13	Neurological conditions

```{r diseaselist 201, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 201, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 202	Tubulo-interstitial nephritis	7	Diseases of the Genitourinary System

```{r diseaselist 202, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 202, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 203	Type 1 Diabetes Mellitus	5	Diseases of the Endocrine System
Adapted CALIBER Algorithm:
"Use MODIFIED CALIBER Diabetes phenotyping algorithm for 
1.	T1DM, 
2.	T2DM, 
3.	Diabetes other or uncertain type:

IF there is at least one record for code for type 2 diabetes
    and no record for type 1 diabetes
    then classify the patient as type 2 diabetes

ELSE if there is at least one record for code for type I diabetes
    and no record for type 2 diabetes
    then classify the patient as type 1 diabetes

ELSE if there is at least one record of type 1 diabetes
    and type 2 diabetes
    then classify as diabetes other or uncertain type

ELSE if there are no T1/T2 records for this patient:

    If there is at least one record for Non-insulin-dependent diabetes mellitus (NIDDM) 
        and no record for IDDM
        then classify the patient as type 2 diabetes

    ELSE if there is at least one record for Insulin-dependent diabetes mellitus (IDDM) 
        and no record for NIDDM 
        then classify the patient as type 1 diabetes

    ELSE if there is at least one record of diabetes 
        then classify as diabetes other or uncertain type

ELSE classify as no diabetes"

```{r diseaselist 203, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 203, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 204	Type 2 Diabetes Mellitus	5	Diseases of the Endocrine System

Adapted CALIBER Algorithm:
"Use MODIFIED CALIBER Diabetes phenotyping algorithm for 
1.	T1DM, 
2.	T2DM, 
3.	Diabetes other or uncertain type:

IF there is at least one record for code for type 2 diabetes
    and no record for type 1 diabetes
    then classify the patient as type 2 diabetes

ELSE if there is at least one record for code for type I diabetes
    and no record for type 2 diabetes
    then classify the patient as type 1 diabetes

ELSE if there is at least one record of type 1 diabetes
    and type 2 diabetes
    then classify as diabetes other or uncertain type

ELSE if there are no T1/T2 records for this patient:

    If there is at least one record for Non-insulin-dependent diabetes mellitus (NIDDM) 
        and no record for IDDM
        then classify the patient as type 2 diabetes

    ELSE if there is at least one record for Insulin-dependent diabetes mellitus (IDDM) 
        and no record for NIDDM 
        then classify the patient as type 1 diabetes

    ELSE if there is at least one record of diabetes 
        then classify as diabetes other or uncertain type

ELSE classify as no diabetes"

```{r diseaselist 204, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 204, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 205	Ulcerative colitis	3	Diseases of the Digestive System

```{r diseaselist 205, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 205, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 206	Unstable Angina	2	Diseases of the Circulatory System
Our addition: only if don't have stable angina or MI recorded

```{r diseaselist 206, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 206, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 207	Urinary Incontinence	7	Diseases of the Genitourinary System

```{r diseaselist 207, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 207, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 208	Venous thromboembolic disease (Excl PE)	2	Diseases of the Circulatory System

```{r diseaselist 208, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 208, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 209	Ventricular tachycardia	2	Diseases of the Circulatory System

```{r diseaselist 209, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 209, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```


## 210	Visual impairment and blindness	6	Diseases of the Eye

```{r diseaselist 210, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 210, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 211	Vitamin B12 deficiency anaemia	9	Haematological/Immunological conditions

```{r diseaselist 211, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 211, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```

## 212	Vitiligo	15	Skin conditions - MULTIPLE VISIT CRITERIA (3+ visits in one year)

```{r diseaselist 212, echo = FALSE}
kable(as.matrix(fullcodelistmedid[disease_num == 212, .(`read code`, medcode, description, category, medcodeid, snomedctdescriptionid, mapping)]))

```




## GOLD medcodes without Aurum equivalents 
```{r aurum medcodes missing , echo = FALSE}

kable(as.matrix(fullcodelistmedid[is.na(medcodeid), ]))

```

## CALIBER conditions we are not including  

#Actinic keratosis
#Acute Kidney Injury
#Agranulocytosis
#Anal Fissure
#Anorectal Fistula
#Anorectal Prolapse
#Appendicitis
#Aspiration Pneumonitis
#Bacterial Infection
#Bell's Palsy
#Benign Neoplasm  Brain
#Benign Neoplasm  Colon
#Benign Neoplasm  Ovary
#Benign Neoplasm  Stomach
#Benign Neoplasm  Uterus
#Carpal Tunnel Syndrome
#Cervical Intra-epithelial Neoplasia
#Cholangitis
#Cholecystitis
#Cholelithiasis
#Delirium
#Encephalitis
#Erectile Dysfunction
#Female Infertility
#Fracture  Hip
#Fracture  Wrist
#Fungal Infection
#Haemangioma
#High Birth Weight
#Hydrocele
#Infection  Anorectal
#Infection  Bone
#Infection  Digestive System
#Infection  Ear/Upper Respiratory Tract
#Infection  Eye
#Infection  Heart
#Infection  Liver
#Infection  Lower Respiratory Tract
#Infection  Male Genitourinary
#Infection  Other Genitourianry
#Infection  Other nervous system
#Infection  Other organisms
#Infection  Other organs
#Infection  Skin
#Intrauterine Hypoxia
#Iron Deficiency Anaemia
#Juvenile Arthritis
#Keratitis
#Leiomyoma
#Lichen Planus
#Low Birth Weight
#Male infertility
#Meningitis
#Menorrhagia
#Monoclonal Gammopathy of Undetermined Significance
#Nasal Polyps
#Neonatal Jaundice
#Oesophageal Ulcer
#Parasitic Infection
#Patent Ductus Arteriosus
#Pelvic Inflammatory Disease
#Peptic Ulcer
#Peritonitis
#Pilonidal cyst/sinus
#Pneumothorax
#Post-term Delivery
#Postcoital Bleeding
#Postmenopausal Bleeding
#Premature Delivery
#Ptosis
#Pulmonary Collapse
#Pulmonary Embolism
#Reactive Arthritis
#Respiratory Distress of the Newborn Resp
#Respiratory Failure
#Retinal Detachment
#Rheumatic Fever
#Scoliosis
#Sepsis of the Newborn
#Septicaemia
#Sickle Cell Trait
#Subdural haematoma
#Syndrome of Inappropriate AntiDiuretic Hormone
#Thalassaemia Trait
#Tuberculosis
#Undescended Testis
#Urinary Tract Infection
#Urolithiasis
#Urticaria
#Uterovaginal Prolapse
#Viral Infection
#Volvulus






